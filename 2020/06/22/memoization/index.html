<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Memoization - The ability of a computer to recall | msp Writes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="When running a code or a program we often find ourselves in situations when we need to perform a big calculation. If that calculation is done from the scratch every time we run the code our program">
<meta property="og:type" content="article">
<meta property="og:title" content="Memoization - The ability of a computer to recall">
<meta property="og:url" content="https://mohitsparihar.github.io/blog/2020/06/22/memoization/index.html">
<meta property="og:site_name" content="msp Writes">
<meta property="og:description" content="When running a code or a program we often find ourselves in situations when we need to perform a big calculation. If that calculation is done from the scratch every time we run the code our program">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://schoolplus.com.sg/wp-content/uploads/2017/10/Tips-to-improve-your-child-memory-1038x526.png">
<meta property="article:published_time" content="2020-06-21T19:53:21.000Z">
<meta property="article:modified_time" content="2020-06-22T13:12:16.338Z">
<meta property="article:author" content="Mohit Singh Parihar">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://schoolplus.com.sg/wp-content/uploads/2017/10/Tips-to-improve-your-child-memory-1038x526.png">
  
    <link rel="alternate" href="/blog/atom.xml" title="msp Writes" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/blog/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">

      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">msp Writes</a>
      </h1>

      <nav>
        <ul>
        
          <li><a class="main-nav-link" href="/blog/">Home</a></li>
        
          <li><a class="main-nav-link" href="/blog/archives">Archives</a></li>
        
      </ul>
      </nav>

</header>
      <div class="outer">
        <section id="main"><article id="post-memoization" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Memoization - The ability of a computer to recall
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="https://schoolplus.com.sg/wp-content/uploads/2017/10/Tips-to-improve-your-child-memory-1038x526.png"/>

<p>When running a code or a program we often find ourselves in situations when we need to perform a big calculation. If that calculation is done from the scratch every time we run the code our program will become slow. In these type of situations we need the computer to recall the previously calculated values in the program and simplify our calculations based on that. This will reduce the time for calculating the values which are obtained previously.</p>
<p>This sounds a bit confusing let’s see it with an example of a similar situation:-</p>
<p>Let’s write a simple program for printing out the <strong>Fibonacci sequence</strong> for a number.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> first = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> second = <span class="number">1</span></span><br><span class="line">    <span class="comment">//n = numberth of fibonaci sequence</span></span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n &gt; <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">let</span> temp  = first + second;</span><br><span class="line">            first = second;</span><br><span class="line">            second = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> second;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fib(<span class="number">6</span>));</span><br></pre></td></tr></table></figure>
<iframe width="100%" height="100" src="//jsfiddle.net/mohitmogambo/d2a3zn64/1/embedded/result/dark/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe>

<p>In the above function we are calculating the Fibonacci number respective to the position of the number in the sequence. This function will return the last number of the Fibonacci series. For example if the value passed in the function is 6 it will return 8. The values calculated by the function are :-<br><code>1, 1, 2, 3, 5, 8</code>.</p>
<p>Instead using the loop we can use recursion also. So, what is recursion?</p>
<p>A recursive function is a function that calls itself until a “base condition” is true, and execution stops. Here the <code>fib()</code> function is called inside the function when the input value is greater than or equal to two.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fib(n<span class="number">-1</span>) + fib(n<span class="number">-2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If the number passed in is 6 then,</p>
<p><strong><code>fib(6) = fib(5) - fib(4)</code></strong><br><strong><code>fib(5) = fib(4) - fib(3)</code></strong><br><strong><code>fib(4) = fib(3) - fib(2)</code></strong><br><strong><code>fib(3) = fib(2) - fib(1)</code></strong><br><strong><code>fib(2) = fib(1) - fib(0)</code></strong></p>
<p>We can see here that the only value which is not needed to be calculated is the value associated with the number 1 and 0. For all the other parameters passed the function has to calculate the fibonacci number.</p>
<p>For 6 we the need the value associated with the number 5 and 4. Then for 5 we need Fibonacci number for 4 and 3, and for 4 we need the number for 3 and 2. Now as the values are reused what if we can store the values and recall them from the memory whenever needed during the program. If we would be talking about a human brain we do it naturally but for the case of the computers we need to tell it. This technique of using the computers memory for further calculations is known as <code>memoization</code>.</p>
<blockquote>
<p>In computing, <code>memoization</code> or <code>memoisation</code> is an optimization technique used primarily to speed up computer programs by storing the results of expensive function calls and returning the cached result when the same inputs occur again.</p>
</blockquote>
<p>More elaborately we can say that Memoization is the programmatic practice of making long recursize functions run much faster by caching the values that the function return after its initial execution.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fibMap = &#123;&#125;;<span class="comment">//Map to store the calculated values</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;<span class="number">2</span>) &#123;     <span class="comment">// Same as the previous code</span></span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(fibMap[n])&#123;</span><br><span class="line">        <span class="keyword">return</span> fibMap[n];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        fibMap[n] = fib(n<span class="number">-1</span>) + fib(n<span class="number">-2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">return</span> fibMap[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this function we have used the concept of map to store the values. The first <code>if</code> condition is same as the previous code. The <code>if</code> condition for the <code>fibMap</code> object is the one we need here to do the memoization.</p>
<p>When a particular value is calculated we create an entry in the <code>fibMap</code> and save it with the associated key for that particular number. And when the value is needed in the later state we recall it from the <code>fibMap</code>.</p>
<p>Now let’s create a memoize function which will recieve a function as an argument and also return a function .</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">memoize</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> cache = &#123;&#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cache[args])&#123;</span><br><span class="line">      <span class="keyword">return</span> cache[args];</span><br><span class="line">    &#125;</span><br><span class="line">    newCall = fn.apply(<span class="literal">null</span>, args);</span><br><span class="line">    cache[args] = newCall;</span><br><span class="line">    <span class="keyword">return</span> newCall;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Let’s try to understand what’s happening here.</p>
<ul>
<li>We created a function which will consist of an object and a return statement in which we are returning a function.</li>
<li>We created an empty object called <code>cache</code> that will actually store function calls for us.</li>
<li>We are writing here a reusable memoizer that can be applied to functions other than fib also, so we can use the <code>args</code> to allow it to receive any number of arguments.</li>
<li>Now we will look into our memory bank, our cache constant, and if it contains a key with this set of arguments, we will return the corresponding value.</li>
<li>If the function has never been called with the current set of arguments we will pass them to the original “slow” function that is the <code>fn</code> passed to memoize as an argument and then save the result to <code>cache</code>. In order to pass an array of arguments we need to use apply() method.</li>
</ul>
<p>To use memoize function for our Fibonacci problem we simply store memoize function call as a constant and pass arguments that would otherwise be passed to fib to this constant.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fastFib = memoize(fib(<span class="number">6</span>));</span><br></pre></td></tr></table></figure>
<p>This will result</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8</span><br></pre></td></tr></table></figure>
<p>Which is same as the previous result.</p>
<p>We have significantly improved the time that the <code>fib()</code> function will take recursive solution to run for large numbers, as it will not be growing exponentially anymore.</p>
<p>The <code>memoize()</code> function we created is a pretty universal function. i.e we can use it anywhere where recusion or iterable data is used for further calculations.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mohitsparihar.github.io/blog/2020/06/22/memoization/" data-id="ckbqiswc8000vnsu2hp24c8hg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/blog/2020/04/03/semicolons-in-javascript/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">You don&#39;t need SEMICOLON in JAVASCRIPT</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2020/06/22/memoization/">Memoization - The ability of a computer to recall</a>
          </li>
        
          <li>
            <a href="/blog/2020/04/03/semicolons-in-javascript/">You don&#39;t need SEMICOLON in JAVASCRIPT</a>
          </li>
        
          <li>
            <a href="/blog/2020/03/29/tower-of-hanoi/">Tower of Hanoi</a>
          </li>
        
          <li>
            <a href="/blog/2019/11/24/angular-to-gihub-pages/">Deploying an Angular App to Github Pages</a>
          </li>
        
          <li>
            <a href="/blog/2019/10/17/Array-function/">Array.prototype.function()</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Mohit Singh Parihar<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">

  
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>




  </div>
</body>
</html>